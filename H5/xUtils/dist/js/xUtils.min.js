"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.ajax=function(){var e={defaultEmptyOpts:function(e){return e&&(e.beforeSend=function(){utils.dialog.empty()},e.complete=function(){utils.dialog.closeEmpty()}),e},defaultSaveOpts:function(e){var i=e.message||"数据保存中...";return e&&(e.beforeSend=function(){utils.dialog.wait(i)},e.complete=function(){utils.dialog.closeWait()}),e},defaultListOpts:function(e){e&&(e.beforeSend=function(){utils.dialog.loadding()},e.complete=function(){utils.dialog.closeLoadding()})},post:function(e,i,t){var n={url:e,type:"post",data:i,dataType:"json",timeout:2e4,success:function(e){t&&t.onSuccess&&t.onSuccess(e)},error:function(e){var i=e.responseText;t&&t.onError&&t.onError(i)},beforeSend:function(){t&&t.onBefore&&t.onBefore()},complete:function(){t&&t.onComplete&&t.onComplete()}};for(var s in t)n[s]=t[s];$.ajax(n)},save:function(e,i,t){t||(t={},t.onSuccess=onSuccess),t.onBefore||(t.onBefore=function(){xUtils&&xUtils.dialog&&xUtils.dialog.wait(t.message||"请等待。。。")}),t.onComplete||(t.onComplete=function(){xUtils&&xUtils.dialog&&xUtils.dialog.closeWait()}),t.onError||(t.onError=function(e){xUtils&&xUtils.dialog&&xUtils.dialog.alert()}),this.post(e,i,t)},saveObj:function(e,i,t){t||(t={}),t.type="post",t.data=JSON.stringify(i),t.dataType="json",t.contentType="application/json",this.save(e,i,t)},list:function(e,i,t){t||(t={},t.onSuccess=onSuccess),t.onBefore||(t.onBefore=function(){xUtils&&xUtils.dialog&&xUtils.dialog.loadding()}),t.onComplete||(t.onComplete=function(){xUtils&&xUtils.dialog&&xUtils.dialog.closeLoadding()}),t.onError||(t.onError=function(e){xUtils&&xUtils.dialog&&xUtils.dialog.alert()}),this.post(e,i,t)}};return e}(),"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.dialog=function(){var e={open:function(e,i,t){var n=$('<div class="cm-dialog" xdialog="xdialog"></div>'),s=$('<div class="cm-dialog-content"></div>'),o=$('<div class="cm-dialog-title"></div>'),a=$('<div class="cm-dialog-text"></div>'),r=$('<div class="cm-dialog-action"></div>');return o.html(i),a.html(e),r.html(t),i&&s.append(o),e&&s.append(a),s.append(r),n.append(s),$(document.body).append(n),n.show(),n},alert:function(e,i,t){var n=$("<span>确认</span>"),s=this.open(e,t,n);n.click(function(){i&&i.call(this),s.remove()})},confirm:function(e,i,t,n){var s=$('<span class="cm-dialog-action-ok">确认</span>'),o=$('<span class="cm-dialog-action-unok">取消</span>'),a=$("<span></span>");a.append(s),a.append(o);var r=this.open(e,n,a);s.click(function(){i&&i.call(this),r.remove()}),o.click(function(){t&&t.call(this),r.remove()})},close:function(e){e||(e="cm-dialog"),$(e).remove()},loadding:function(){var e=$(' <div class="cm-dialog-loadding"  xdialog="xdialog"></div>'),i=$('   <div class="cm-dialog-loadding-content"> </div>');e.append(i),$(document.body).append(e)},closeLoadding:function(){this.close(".cm-dialog-loadding")},toast:function(e,i,t){this.tips(e,i,t)},tips:function(e,i,t){var n=$('<div class="cm-dialog-tips"  xdialog="xdialog"></div>'),s=$('<div class="cm-dialog-tips-content"></div>'),o=$("<span></span>");return o.html(e),s.append(o),n.append(s),$(document.body).append(n),setTimeout(function(){n.remove(),t&&t()},i||2e3),n},message:function(e){var i=$(' <div class="cm-dialog-message"  xdialog="xdialog"></div>'),t=$('   <div class="cm-dialog-message-content"> </div>'),n=$("<span></span>");n.html(e),t.append(n),i.append(t),$(document.body).append(i),i.click(function(){$(this).remove()})},closeMessage:function(e){this.close(".cm-dialog-message")},wait:function(e){var i=$(' <div class="cm-dialog-wait"  xdialog="xdialog"></div>'),t=$('   <div class="cm-dialog-wait-content"> </div>'),n=$("<span></span>");n.html(e),t.append(n),i.append(t),$(document.body).append(i)},closeWait:function(){this.close(".cm-dialog-wait")},empty:function(){var e=$(' <div class="cm-dialog-empty"  xdialog="xdialog"></div>');$(document.body).append(e)},closeEmpty:function(){this.close(".cm-dialog-empty")},closeAll:function(){$("[xdialog]").remove()}};return e}(),"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.form=function(){var e={getForm:function(e){var i=null;return i=e?e:$("form:eq(0)")},isValid:function(e){var i=this.getForm(e),t=xUtils.valid.tests(i.find("[data-valid]"));return 0!=t.isPassed},init:function(e,i,t,n){var s=this.getForm(e);xUtils.valid&&xUtils.valid.blurValid&&xUtils.valid.blurValid(s);var o=this;s.on("submit",function(s){s.preventDefault(),o.submit(e,i,t,n)})},submit:function(e,i,t,n){var s=this,o=s.getForm(e);if(!s.isValid(o)||i&&0==i())return!1;var a=o.attr("action");s.ajaxSubmit(a,s.getData(o),t,n)},ajaxSubmit:function(e,i,t,n,s){$.ajax({url:e,data:i,type:"post",error:function(e){s&&s(e,e.Msg)},success:function(e){t&&t(e)}})},getData:function(e){var i=this.getForm(e),t=i.serializeArray();return t}};return e}(),"undefined"!=typeof $&&($.fn.ajaxForm=function(e){xUtils.form.init($(this),e.onBefore,e.onSuccess,e.onFail)},$.fn.ajaxFormSubmit=function(e){xUtils.form.submit($(this),e.onBefore,e.onSuccess,e.onFail)}),"undefined"==typeof window.xUtils&&(window.xUtils={}),"undefined"==typeof window.xUtils.errorMessages&&(window.xUtils.errorMessages={noChinese:"Chinese character is not allowed.",required:"该字段为必填字段",email:"无效Email格式",minLength:"允许最小字符长度: {{1}} ",maxLength:"允许最大字符长度: {{1}} ",invalid:"无效数据格式"}),function(e,i){"function"==typeof define&&define.amd?define(i):e.form=i()}(this,function(){function capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}var reg={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,chinese:/^[\u0391-\uFFE5]+$/,zipcode:/^[1-9]\d{5}$/,mobile:/^1[3-9][0-9]{9}$/,phone:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,phoneCn:/^(0[1-9][0-9]{1,2}-?[2-9][0-9]{4,})|([4|8]00[0-9]{7})$/,numbers:/^[0-9]*$/,numbers_dot:/^[0-9\.]*$/,abc:/^[A-Za-z]+$/,numbers_abc_underline:/^\w+$/,url:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/,username:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,price:/^\d+(\.\d+)?$/,chinaIdLoose:/^(\d{18}|\d{15}|\d{17}[xX])$/,chinaZip:/^\d{6}$/,ipv4:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},msg=window.xUtils.errorMessages,types=["email","url"],inArray=function(e,i){for(var t=0;t<e.length;t++)if(e[t]===i)return!0;return!1},test=function(e,i){var t={isPassed:!0,type:""};if(!e.data("valid"))return t;var n=e.data("valid").split(" ");return $.each(n,function(i,n){var s;if(n.indexOf("_")>-1){var o=n.split("_"),a="is"+capitalizeFirstLetter(o[0]);capitalizeFirstLetter(o[0]);if(o[0]=e,form[a])return s=form[a].apply(void 0,o),!!s.isPassed||(t=s,!1);if(s=isRegex(e,n),0==s.isPassed)return t=s,!1}if(void 0!==form["is"+capitalizeFirstLetter(n)]){if(s=form["is"+capitalizeFirstLetter(n)](e),0==s.isPassed)return t=s,!1}else if(s=isRegex(e,n),0==s.isPassed)return t=s,!1}),t},tests=function(e){var i={isPassed:!0,list:[]};return $.each(e,function(e,t){var n=test($(t));n.isPassed||(i.isPassed=!1,i.list.push({type:n.type,$el:$(t)}))}),i},isRequired=function(e){var i=!0;if(e.is("[type=radio]")){if(e.closest("form").find("[name="+e.attr("name")+"]:checked").length)return{isPassed:i,type:"required"};i=!1}return i&&e.is("[type=checkbox]")&&!e.is(":checked")&&(i=!1),(i&&null===e.val()||!e.val().length||"SELECT"==e.prop("tagName")&&e.val()==-1)&&(i=!1),i&&e.data("default")&&e.val()===e.data("default")&&(i=!1),0==$.trim(e.val()).length&&(i=!1),{isPassed:i,type:"required",msg:msg.required}},isNoChinese=function(e){return{isPassed:/^[^\u4e00-\u9fa5]{0,}$/.test(e.val()),type:"noChinese",msg:msg.noChinese}},isRegex=function(e,i){if(0==e.val().length)return{isPassed:!0,type:""};var t=i,i=reg.hasOwnProperty(t)?reg[t]:i;return i.test(e.val())?{isPassed:!0,type:t,msg:msg[t]}:{isPassed:!1,type:t,msg:msg[t]}},isEqual=function(e){return{isPassed:e.val()===$("[name="+arguments[1]+"]").val(),type:"equal",msg:"* fields do not match"}},isMinLength=function(e,i){return{isPassed:0===e.val().length||e.val().length>=parseInt(i),type:"minLength",msg:msg.minLength.replace("{{1}}",i)}},isMaxLength=function(e,i){return{isPassed:e.val().length<=parseInt(i),type:"maxLength",msg:msg.maxLength.replace("{{1}}",i)}},isLessThan=function(){},isMoreThan=function(){},isAjax=function(e){},isFunc=function($el){var func=$el.attr("func");if(!func)return{isPassed:!0,type:"func"};var data=eval(func+".call($el,$el.val())");return{isPassed:data.result,type:"func",msg:data.msg}},form={test:test,tests:tests,isEqual:isEqual,isRegex:isRegex,isRequired:isRequired,isMinLength:isMinLength,isMaxLength:isMaxLength,isNoChinese:isNoChinese,isFunc:isFunc,msg:msg};return form});var index=1;if($.fn.errorMessage=function(options){function hide(){var e=$(this).attr("errorMessageid");$(".tooltipster-error[errorMessageid="+e+"]").remove()}if("string"==typeof options)return void eval(options+".call(this)");var animation="tooltipster-"+options.animation,animationSpeed="-webkit-transition-duration: "+options.speed+"ms; -webkit-animation-duration: "+options.speed+"ms; -moz-transition-duration: "+options.speed+"ms; -moz-animation-duration: "+options.speed+"ms; -o-transition-duration: "+options.speed+"ms; -o-animation-duration: "+options.speed+"ms; -ms-transition-duration: "+options.speed+"ms; -ms-animation-duration: "+options.speed+"ms; transition-duration: "+options.speed+"ms; animation-duration: "+options.speed+"ms;",minWidth=options.minWidth?"min-width:"+Math.round(options.minWidth)+"px;":"",maxWidth=options.maxWidth?"max-width:"+Math.round(options.maxWidth)+"px;":"",pointerEvents=options.interactive?"pointer-events: auto;":"",tooltip=$('<div class="tooltipster-base '+options.theme+'" style="'+minWidth+" "+maxWidth+" "+pointerEvents+" "+animationSpeed+'"><div class="tooltipster-content"></div><div class="tooltipster-arrow tooltipster-arrow-top-right tooltipster-error-arrow" ><span><span></span></span></div></div>');$(".tooltipster-content",tooltip).html(options.content),$(this).parent().append(tooltip);var offset=$(this).offset(),left=$(this).width()-tooltip.width()+offset.left-2;tooltip.css({left:left,top:offset.top-tooltip.height()-10});var errorMessageid="errorMessageid-"+index++;tooltip.attr("errorMessageid",errorMessageid),$(this).attr("errorMessageid",errorMessageid),function(e){setTimeout(function(){e.remove()},3e3)}(tooltip)},$.fn.h5ErrorMessage=function(options){function hide(){var e=$(this).attr("errorMessageid");$(".tooltipster-error[errorMessageid="+e+"]").remove()}if("string"==typeof options)return void eval(options+".call(this)");if(xUtils&&xUtils.dialog){var tooltip=xUtils.dialog.tips(options.content),errorMessageid="errorMessageid-"+index++;tooltip.attr("errorMessageid",errorMessageid),$(this).attr("errorMessageid",errorMessageid),function(e){setTimeout(function(){e.remove()},3e3)}(tooltip)}},window.xUtils.valid=function(){var e=function(){var e=function(e,i){"one"==xUtils.valid.model?e.h5ErrorMessage(i):e.errorMessage(i)},i=function(i,t,n){var s=function(){e(i,{position:"top-right",theme:"tooltipster-error",maxWidth:300,contentAsHTML:!0,content:t||window.xUtils.errorMessages.invalid,hideOnClick:!0,trigger:"custom",autoClose:!0,timer:5e3,positionTracker:xUtils.valid.positionTracker,interactive:!0,debug:!1,functionAfter:function(){}})};s()},t=function(e){e.errorMessage("hide")};return{show:e,hide:t,error:i}}(),i=function(i,t){var s=form.test(i);if(0==s.isPassed&&s.isDeferred!==!0){var o,a=i.attr("type"),r=i.attr("errorMessage")||s.msg;o="hidden"==a?i.attr("validTarget")?$(i.attr("validTarget")):i.parent():i,t?n(o,function(){e.error(o,r)}):e.error(o,r)}return s},t=function(t,s){var o={isPassed:!0,list:[]};void 0===s&&(s={});var a="undefined"==typeof s.showOneMessage?this.showOneMessage:s.showOneMessage,r="undefined"==typeof s.autoPositionUpdate?this.autoPositionUpdate:s.autoPositionUpdate,l=!0;if($.each(t,function(e,t){var n=i($(t));if(l=n.isPassed,"one"!=window.xUtils.valid.model||0!=l)return!(!n.isPassed&&(o.isPassed=!1,o.list.push({type:n.type,$el:$(t),msg:n.msg}),a))&&void 0}),r&&o.list.length>0){var d=o.list[0].$el;e.hide(d),n(d,function(){s.autoFocus&&d.trigger("focus"),e.error(d,o.list[0].msg)})}return o},n=function(e,i){$("html, body").animate({scrollTop:e.offset().top-$(window).height()/2},function(){i&&i(e)})},s=function(t){t.on("focus","[data-valid]",function(){e.hide($(this))}).on("blur","[data-valid]",function(){i($(this))})},o=function(e,i){s(e),e.on("submit",function(t){var n=xUtils.valid.tests(e.find("[data-valid]"),i);n.isPassed===!1&&t.preventDefault()})};return{test:i,tests:t,blurValid:s,tooltips:e,submitValid:o,to:n,model:"one"}}(),"undefined"!=typeof $&&($.fn.isValid=function(){var e=$(this),i=xUtils.valid.tests(e.find("[data-valid]"));return 0!=i.isPassed},$.fn.validForm=function(){var e=$(this);xUtils.valid&&xUtils.valid.blurValid&&xUtils.valid.blurValid(e)}),"undefined"!=typeof $){document.addEventListener("touchmove",function(e){e.preventDefault()},!1),$.fn.scrollList=function(e){var i=($(this),$('<div class="scrollListWrapper" ></div>')),t=$('<div class="scroller"></div>'),n=$('<div class="scrollerLoadding"><span><span class="scrollerLoadding-circle"></span><span class="scrollerLoadding-text">数据加载中</span></span></div>'),s=$('<div class="scrollerLoadding"><span><span class="scrollerLoadding-circle"></span><span class="scrollerLoadding-text">数据加载中</span></span></div>'),o=$(this);o.wrap(i).wrap(t),n.css({top:0}),s.css({bottom:0}),i.append(n),i.append(s),n.hide(),s.hide();var a=$(".scrollerLoadding-circle",n);a.hide();var r=$(".scrollerLoadding-text",n),l=$(".scrollerLoadding-circle",s);l.hide();var d=$(".scrollerLoadding-text",s),u={end:function(){n.hide(),s.hide(),f.refresh()}};if("string"==typeof e){var c=u[e];if(c)return void c.call(this)}e||(e={});var p=e.autoSize||!0;p&&!e.height&&(e.height=i.parent().height(),i.height(e.height)),e.onUp||(e.onUp=function(){setTimeout(function(){n.hide()},2e3)}),e.onDown||(e.onDown=function(){setTimeout(function(){s.hide()},2e3)}),e.probeType=1,e.mouseWheel=!0;var f=listScroll=new IScroll(i[0],e);return f.on("scrollStart",function(i,t){e.status="start";var o=this.startY;this.maxScrollY;console.log("scrollStart:"+o),e.upRefresh=!1,e.downRefresh=!1,n.hide(),s.hide()}),f.on("scroll",function(i,t){var o,u=this.startY,c=this.maxScrollY;u>0&&!e.upRefresh&&(n.show(),o="下拉刷新...",a.hide(),r.html(o)),u>50&&!e.upRefresh?(console.log("数据刷新中"),e.upRefresh=!0,a.show(),o="数据刷新中...",r.html(o)):c>u&&(s.show(),e.downRefresh||(o="上拉刷新...",l.hide(),d.html(o)),c-50>u&&(console.log("数据刷新中"),e.downRefresh=!0,l.show(),o="数据刷新中...",d.html(o)),console.log("下来刷新")),console.log("scroll :"+u)}),f.on("beforeScrollStart",function(e,i){console.log("beforeScrollStart")}),f.on("scrollEnd",function(i,t){console.log("scrollEnd"),e.status="end",e.upRefresh?e.onUp.call(this,u):n.hide(),e.downRefresh?e.onDown.call(this,u):s.hide(),e.upRefresh=!1,e.Uploadding=!1}),f.on("scrollCancel",function(i,t){console.log("scrollCancel"),e.status="cancel",e.upRefresh=!1,e.Uploadding=!1}),f.on("refresh",function(e,i){console.log("refresh")}),f};var scrollerEvents=function(){var e={initEvent:function(e,i){var t=["scrollEnd","beforeScrollStart","scrollStart","scrollCancel","refresh"],n=["onScrollEnd","onBeforeScrollStart","onScrollStart","onScrollCancel","onRefresh"];$.each(n,function(n,s){"function"==typeof e[s]&&i.on(t[n],e[s])})}};return e}();$.fn.scrollItems=function(e){var i,t=$(this),n=$('<div class="scrollItemsWrapper" ></div>'),s=$('<div class="scroller"></div>');t.wrap(n).wrap(s),e||(e={});var o={scrollX:!0,scrollY:!1,mouseWheel:!0};for(var a in o)e[a]=o[a];var r=0;t.children().each(function(){r+=$(this).width()});var l={width:r};return t.css(l),s.css(l),i=new IScroll(n[0],e),scrollerEvents.initEvent(e,i),i},$.fn.scrollPage=function(e){var i,t=$(this),n=$('<div class="scrollerPagerWrapper" ></div>'),s=$('<div class="scroller"></div>');t.wrap(n).wrap(s),e||(e={});var o={scrollX:!0,scrollY:!1,mouseWheel:!0,snap:!0,momentum:!1};s.css({width:100*t.children().size()+"%"});for(var a in o)e[a]=o[a];return i=new IScroll(n[0],e),scrollerEvents.initEvent(e,i),i},$.fn.slider=function(e){var i,t=$(this),n=$('<div class="scrollerSliderWrapper"></div>'),s=$('<div class="scroller"></div>');t.wrap(n).wrap(s),n.parent().css({position:"relative"}),e||(e={}),e.class&&n.addClass(e.class);var o={scrollX:!0,scrollY:!1,mouseWheel:!0,snap:!0,momentum:!1,pager:!0};if(s.css({width:100*t.children().size()+"%"}),$.extend(e,o),i=new IScroll(n[0],e),scrollerEvents.initEvent(e,i),e.pager){for(var a=$('<div class="pager"></div>'),r=$("<ul></ul>"),l=t.children().size(),d="activePager",u=0;u<l;u++){var c=$("<li></li>");c.data("pagerIndex",u),c.tap(function(){var e=$(this).data("pagerIndex");i.goToPage(e,0),r.find("li").removeClass(d),$(this).addClass(d)}),r.append(c)}r.find("li").first().addClass(d),a.append(r),n.append(a),i.on("scrollEnd",function(){var e=this.currentPage,i=e.pageX;r.find("li").removeClass(d),r.find("li").eq(i).addClass(d)})}return s}}"undefined"!=typeof $&&(document.addEventListener("touchmove",function(e){e.preventDefault()},!1),$.fn.tmpl=function(e,i,t){var n=$(this),s=template(e,i);t?t.call(this,s):n.append(s)});