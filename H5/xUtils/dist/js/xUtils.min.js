"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.ajax=function(){var i={defaultEmptyOpts:function(i){return i&&(i.beforeSend=function(){utils.dialog.empty()},i.complete=function(){utils.dialog.closeEmpty()}),i},defaultSaveOpts:function(i){var t=i.message||"数据保存中...";return i&&(i.beforeSend=function(){utils.dialog.wait(t)},i.complete=function(){utils.dialog.closeWait()}),i},defaultListOpts:function(i){i&&(i.beforeSend=function(){utils.dialog.loadding()},i.complete=function(){utils.dialog.closeLoadding()})},post:function(i,t,e){var n={url:i,type:"post",data:t,dataType:"json",timeout:2e4,success:function(i){e&&e.onSuccess&&e.onSuccess(i)},error:function(i){var t=i.responseText;e&&e.onError&&e.onError(t)},beforeSend:function(){e&&e.onBefore&&e.onBefore()},complete:function(){e&&e.onComplete&&e.onComplete()}};for(var o in e)n[o]=e[o];$.ajax(n)},save:function(i,t,e){e||(e={},e.onSuccess=onSuccess),e.onBefore||(e.onBefore=function(){xUtils&&xUtils.dialog&&xUtils.dialog.wait(e.message||"请等待。。。")}),e.onComplete||(e.onComplete=function(){xUtils&&xUtils.dialog&&xUtils.dialog.closeWait()}),e.onError||(e.onError=function(i){xUtils&&xUtils.dialog&&xUtils.dialog.alert()}),this.post(i,t,e)},saveObj:function(i,t,e){e||(e={}),e.type="post",e.data=JSON.stringify(t),e.dataType="json",e.contentType="application/json",this.save(i,t,e)},list:function(i,t,e){e||(e={},e.onSuccess=onSuccess),e.onBefore||(e.onBefore=function(){xUtils&&xUtils.dialog&&xUtils.dialog.loadding()}),e.onComplete||(e.onComplete=function(){xUtils&&xUtils.dialog&&xUtils.dialog.closeLoadding()}),e.onError||(e.onError=function(i){xUtils&&xUtils.dialog&&xUtils.dialog.alert()}),this.post(i,t,e)}};return i}(),"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.dialog=function(){var i={open:function(i,t,e){var n=$('<div class="cm-dialog" xdialog="xdialog"></div>'),o=$('<div class="cm-dialog-content"></div>'),s=$('<div class="cm-dialog-title"></div>'),a=$('<div class="cm-dialog-text"></div>'),r=$('<div class="cm-dialog-action"></div>');return s.html(t),a.html(i),r.html(e),t&&o.append(s),i&&o.append(a),o.append(r),n.append(o),$(document.body).append(n),n.show(),n},alert:function(i,t,e){var n=$("<span>确认</span>"),o=this.open(i,e,n);n.click(function(){t&&t.call(this),o.remove()})},confirm:function(i,t,e,n){var o=$('<span class="cm-dialog-action-ok">确认</span>'),s=$('<span class="cm-dialog-action-unok">取消</span>'),a=$("<span></span>");a.append(o),a.append(s);var r=this.open(i,n,a);o.click(function(){t&&t.call(this),r.remove()}),s.click(function(){e&&e.call(this),r.remove()})},close:function(i){i||(i="cm-dialog"),$(i).remove()},loadding:function(){var i=$(' <div class="cm-dialog-loadding"  xdialog="xdialog"></div>'),t=$('   <div class="cm-dialog-loadding-content"> </div>');i.append(t),$(document.body).append(i)},closeLoadding:function(){this.close(".cm-dialog-loadding")},tips:function(i,t,e){var n=$('<div class="cm-dialog-tips"  xdialog="xdialog"></div>'),o=$('<div class="cm-dialog-tips-content"></div>'),s=$("<span></span>");return s.html(i),o.append(s),n.append(o),$(document.body).append(n),setTimeout(function(){n.remove(),e&&e()},t||2e3),n},message:function(i){var t=$(' <div class="cm-dialog-message"  xdialog="xdialog"></div>'),e=$('   <div class="cm-dialog-message-content"> </div>'),n=$("<span></span>");n.html(i),e.append(n),t.append(e),$(document.body).append(t),t.click(function(){$(this).remove()})},closeMessage:function(i){this.close(".cm-dialog-message")},wait:function(i){var t=$(' <div class="cm-dialog-wait"  xdialog="xdialog"></div>'),e=$('   <div class="cm-dialog-wait-content"> </div>'),n=$("<span></span>");n.html(i),e.append(n),t.append(e),$(document.body).append(t)},closeWait:function(){this.close(".cm-dialog-wait")},empty:function(){var i=$(' <div class="cm-dialog-empty"  xdialog="xdialog"></div>');$(document.body).append(i)},closeEmpty:function(){this.close(".cm-dialog-empty")}};return i}(),"undefined"==typeof window.xUtils&&(window.xUtils={}),window.xUtils.form=function(){var i={getForm:function(i){var t=null;return t=i?i:$("form:eq(0)")},isValid:function(i){var t=this.getForm(i),e=xUtils.valid.tests(t.find("[data-valid]"));return 0!=e.isPassed},init:function(i,t,e,n){var o=this.getForm(i);xUtils.valid&&xUtils.valid.blurValid&&xUtils.valid.blurValid(o);var s=this;o.on("submit",function(o){o.preventDefault(),s.submit(i,t,e,n)})},submit:function(i,t,e,n){var o=this,s=o.getForm(i);if(!o.isValid(s)||t&&0==t())return!1;var a=s.attr("action");o.ajaxSubmit(a,o.getData(s),e,n)},ajaxSubmit:function(i,t,e,n,o){$.ajax({url:i,data:t,type:"post",error:function(i){o&&o(i,i.Msg)},success:function(i){e&&e(i)}})},getData:function(i){var t=this.getForm(i),e=t.serializeArray();return e}};return i}(),"undefined"!=typeof $&&($.fn.ajaxForm=function(i){xUtils.form.init($(this),i.onBefore,i.onSuccess,i.onFail)},$.fn.ajaxFormSubmit=function(i){xUtils.form.submit($(this),i.onBefore,i.onSuccess,i.onFail)}),"undefined"==typeof window.xUtils&&(window.xUtils={}),"undefined"==typeof window.xUtils.errorMessages&&(window.xUtils.errorMessages={noChinese:"Chinese character is not allowed.",required:"该字段为必填字段",email:"无效Email格式",minLength:"允许最小字符长度: {{1}} ",maxLength:"允许最大字符长度: {{1}} ",invalid:"无效数据格式"}),function(i,t){"function"==typeof define&&define.amd?define(t):i.form=t()}(this,function(){function capitalizeFirstLetter(i){return i.charAt(0).toUpperCase()+i.slice(1)}var reg={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i,chinese:/^[\u0391-\uFFE5]+$/,zipcode:/^[1-9]\d{5}$/,mobile:/^1[3-9][0-9]{9}$/,phone:/^([\+][0-9]{1,3}([ \.\-])?)?([\(][0-9]{1,6}[\)])?([0-9 \.\-]{1,32})(([A-Za-z \:]{1,11})?[0-9]{1,4}?)$/,phoneCn:/^(0[1-9][0-9]{1,2}-?[2-9][0-9]{4,})|([4|8]00[0-9]{7})$/,numbers:/^[0-9]*$/,numbers_dot:/^[0-9\.]*$/,abc:/^[A-Za-z]+$/,numbers_abc_underline:/^\w+$/,url:/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)/,username:/^(?!_)(?!.*?_$)[a-zA-Z0-9_\u4e00-\u9fa5]+$/,price:/^\d+(\.\d+)?$/,chinaIdLoose:/^(\d{18}|\d{15}|\d{17}[xX])$/,chinaZip:/^\d{6}$/,ipv4:/^((([01]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))[.]){3}(([0-1]?[0-9]{1,2})|(2[0-4][0-9])|(25[0-5]))$/,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},msg=window.xUtils.errorMessages,types=["email","url"],inArray=function(i,t){for(var e=0;e<i.length;e++)if(i[e]===t)return!0;return!1},test=function(i,t){var e={isPassed:!0,type:""};if(!i.data("valid"))return e;var n=i.data("valid").split(" ");return $.each(n,function(t,n){var o;if(n.indexOf("_")>-1){var s=n.split("_"),a="is"+capitalizeFirstLetter(s[0]);capitalizeFirstLetter(s[0]);if(s[0]=i,form[a])return o=form[a].apply(void 0,s),!!o.isPassed||(e=o,!1);if(o=isRegex(i,n),0==o.isPassed)return e=o,!1}if(void 0!==form["is"+capitalizeFirstLetter(n)]){if(o=form["is"+capitalizeFirstLetter(n)](i),0==o.isPassed)return e=o,!1}else if(o=isRegex(i,n),0==o.isPassed)return e=o,!1}),e},tests=function(i){var t={isPassed:!0,list:[]};return $.each(i,function(i,e){var n=test($(e));n.isPassed||(t.isPassed=!1,t.list.push({type:n.type,$el:$(e)}))}),t},isRequired=function(i){var t=!0;if(i.is("[type=radio]")){if(i.closest("form").find("[name="+i.attr("name")+"]:checked").length)return{isPassed:t,type:"required"};t=!1}return t&&i.is("[type=checkbox]")&&!i.is(":checked")&&(t=!1),(t&&null===i.val()||!i.val().length||"SELECT"==i.prop("tagName")&&i.val()==-1)&&(t=!1),t&&i.data("default")&&i.val()===i.data("default")&&(t=!1),0==$.trim(i.val()).length&&(t=!1),{isPassed:t,type:"required",msg:msg.required}},isNoChinese=function(i){return{isPassed:/^[^\u4e00-\u9fa5]{0,}$/.test(i.val()),type:"noChinese",msg:msg.noChinese}},isRegex=function(i,t){if(0==i.val().length)return{isPassed:!0,type:""};var e=t,t=reg.hasOwnProperty(e)?reg[e]:t;return t.test(i.val())?{isPassed:!0,type:e,msg:msg[e]}:{isPassed:!1,type:e,msg:msg[e]}},isEqual=function(i){return{isPassed:i.val()===$("[name="+arguments[1]+"]").val(),type:"equal",msg:"* fields do not match"}},isMinLength=function(i,t){return{isPassed:0===i.val().length||i.val().length>=parseInt(t),type:"minLength",msg:msg.minLength.replace("{{1}}",t)}},isMaxLength=function(i,t){return{isPassed:i.val().length<=parseInt(t),type:"maxLength",msg:msg.maxLength.replace("{{1}}",t)}},isLessThan=function(){},isMoreThan=function(){},isAjax=function(i){},isFunc=function($el){var func=$el.attr("func");if(!func)return{isPassed:!0,type:"func"};var data=eval(func+".call($el,$el.val())");return{isPassed:data.result,type:"func",msg:data.msg}},form={test:test,tests:tests,isEqual:isEqual,isRegex:isRegex,isRequired:isRequired,isMinLength:isMinLength,isMaxLength:isMaxLength,isNoChinese:isNoChinese,isFunc:isFunc,msg:msg};return form});var index=1;$.fn.errorMessage=function(options){function hide(){var i=$(this).attr("errorMessageid");$(".tooltipster-error[errorMessageid="+i+"]").remove()}if("string"==typeof options)return void eval(options+".call(this)");var animation="tooltipster-"+options.animation,animationSpeed="-webkit-transition-duration: "+options.speed+"ms; -webkit-animation-duration: "+options.speed+"ms; -moz-transition-duration: "+options.speed+"ms; -moz-animation-duration: "+options.speed+"ms; -o-transition-duration: "+options.speed+"ms; -o-animation-duration: "+options.speed+"ms; -ms-transition-duration: "+options.speed+"ms; -ms-animation-duration: "+options.speed+"ms; transition-duration: "+options.speed+"ms; animation-duration: "+options.speed+"ms;",minWidth=options.minWidth?"min-width:"+Math.round(options.minWidth)+"px;":"",maxWidth=options.maxWidth?"max-width:"+Math.round(options.maxWidth)+"px;":"",pointerEvents=options.interactive?"pointer-events: auto;":"",tooltip=$('<div class="tooltipster-base '+options.theme+'" style="'+minWidth+" "+maxWidth+" "+pointerEvents+" "+animationSpeed+'"><div class="tooltipster-content"></div><div class="tooltipster-arrow tooltipster-arrow-top-right tooltipster-error-arrow" ><span><span></span></span></div></div>');$(".tooltipster-content",tooltip).html(options.content),$(this).parent().append(tooltip);var offset=$(this).offset(),left=$(this).width()-tooltip.width()+offset.left-2;tooltip.css({left:left,top:offset.top-tooltip.height()-10});var errorMessageid="errorMessageid-"+index++;tooltip.attr("errorMessageid",errorMessageid),$(this).attr("errorMessageid",errorMessageid),function(i){setTimeout(function(){i.remove()},3e3)}(tooltip)},$.fn.h5ErrorMessage=function(options){function hide(){var i=$(this).attr("errorMessageid");$(".tooltipster-error[errorMessageid="+i+"]").remove()}if("string"==typeof options)return void eval(options+".call(this)");if(xUtils&&xUtils.dialog){var tooltip=xUtils.dialog.tips(options.content),errorMessageid="errorMessageid-"+index++;tooltip.attr("errorMessageid",errorMessageid),$(this).attr("errorMessageid",errorMessageid),function(i){setTimeout(function(){i.remove()},3e3)}(tooltip)}},window.xUtils.valid=function(){var i=function(){var i=function(i,t){"one"==xUtils.valid.model?i.h5ErrorMessage(t):i.errorMessage(t)},t=function(t,e,n){var o=function(){i(t,{position:"top-right",theme:"tooltipster-error",maxWidth:300,contentAsHTML:!0,content:e||window.xUtils.errorMessages.invalid,hideOnClick:!0,trigger:"custom",autoClose:!0,timer:5e3,positionTracker:xUtils.valid.positionTracker,interactive:!0,debug:!1,functionAfter:function(){}})};o()},e=function(i){i.errorMessage("hide")};return{show:i,hide:e,error:t}}(),t=function(t,e){var o=form.test(t);if(0==o.isPassed&&o.isDeferred!==!0){var s,a=t.attr("type"),r=t.attr("errorMessage")||o.msg;s="hidden"==a?t.attr("validTarget")?$(t.attr("validTarget")):t.parent():t,e?n(s,function(){i.error(s,r)}):i.error(s,r)}return o},e=function(e,o){var s={isPassed:!0,list:[]};void 0===o&&(o={});var a="undefined"==typeof o.showOneMessage?this.showOneMessage:o.showOneMessage,r="undefined"==typeof o.autoPositionUpdate?this.autoPositionUpdate:o.autoPositionUpdate,d=!0;if($.each(e,function(i,e){var n=t($(e));if(d=n.isPassed,"one"!=window.xUtils.valid.model||0!=d)return!(!n.isPassed&&(s.isPassed=!1,s.list.push({type:n.type,$el:$(e),msg:n.msg}),a))&&void 0}),r&&s.list.length>0){var u=s.list[0].$el;i.hide(u),n(u,function(){o.autoFocus&&u.trigger("focus"),i.error(u,s.list[0].msg)})}return s},n=function(i,t){$("html, body").animate({scrollTop:i.offset().top-$(window).height()/2},function(){t&&t(i)})},o=function(e){e.on("focus","[data-valid]",function(){i.hide($(this))}).on("blur","[data-valid]",function(){t($(this))})},s=function(i,t){o(i),i.on("submit",function(e){var n=xUtils.valid.tests(i.find("[data-valid]"),t);n.isPassed===!1&&e.preventDefault()})};return{test:t,tests:e,blurValid:o,tooltips:i,submitValid:s,to:n,model:"one"}}(),"undefined"!=typeof $&&($.fn.isValid=function(){var i=$(this),t=xUtils.valid.tests(i.find("[data-valid]"));return 0!=t.isPassed},$.fn.validForm=function(){var i=$(this);xUtils.valid&&xUtils.valid.blurValid&&xUtils.valid.blurValid(i)});